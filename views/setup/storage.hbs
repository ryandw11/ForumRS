<html lang='en'>

<head>
    <title>Storage | ForumRS Setup</title>
    <link rel='icon' href='public/default/default_favicon.png' type='image/png' sizes='16x16' />

    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet'
        integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous' />

    <link rel='stylesheet' href='public/css/setup/setup.css' />
</head>

<body>
    <main class='container'>
        <h1 class="mt-5">Forum<span class='RS'>RS</span> Configuration</h1>
        <h2 class='mb-5'>Storage</h2>
        <div style='width: 70%; margin: auto'>
            <form action='/auth/storage' method='post' class='needs-validation'
                enctype='application/x-www-form-urlencoded' novalidate>
                {{!-- The input for the SSL of the website. --}}
                <div id='general-message' class='alert alert-secondary'>
                    It is now time to determine what type of storage ForumRS will use. You can pick SQLite, MySQL, or PostgreSQL for
                    storage.
                </div>
                <div class='mt-3 row mb-3'>
                    <div class='col-sm-2'><label class="form-label" for="dbType">Storage Format:</label></div>
                    <div class='col-sm-9'>
                        <select class="form-select" name="dbType" id="dbType">
                            <option value="SQLite" selected>SQLite</option>
                            <option value="MySQL">MySQL</option>
                            <option value="PostgreSQL">PostgreSQL</option>
                        </select>
                    </div>
                    <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                        data-bs-trigger='hover focus' title='Storage Help' data-bs-content="This will determine how ForumRS stores data. SQLite is flat file
                                storage format while MySQL is a storage service. If you do not know the difference than you should go with SQLite. If you
                                intened on having a forum with heavy traffic, then you should use MySQL."><i
                            data-feather='info'></i></span>
                </div>
                <div style='display: none;' id='db-error' class='alert alert-danger' role='alert'>
                    <i data-feather='alert-circle'></i>
                    <span>Error Message</span>
                </div>
                <div id="sql-config">
                    <h3>SQLite Configuration</h3>
                    {{!-- The input for the database name of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='sqlName' class='col-sm-2 col-form-label'>Database Name:</label>
                        <div class='col-sm-9'>
                            <input name='sqlName' id='sqlName' class='form-control' type='text'
                                value="data.db" pattern="^.*\.(db)$" required />
                            <div class='invalid-feedback'>
                                You must enter a valid name for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Name Help' data-bs-content='You can configure the name of the database file here.
                            The .db extension is required. You can also define a different path if desired (but this is not recommended).'><i data-feather='info'></i></span>
                    </div>
                </div>
                <div id="mysql-config">
                    <h3>MySQL Configuration</h3>
                    {{!-- The input for the database url of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='mysqlURL' class='col-sm-2 col-form-label'>Database URL:</label>
                        <div class='col-sm-9'>
                            <input name='mysqlURL' id='mysqlURL' class='form-control' type='text'
                                value="localhost" required />
                            <div class='invalid-feedback'>
                                You must enter a valid url for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database URL Help' data-bs-content='This is the URL to the MySQL database that you want to use. Only include ip or domain if
                            it is not on the same machine as ForumRS. Example: mysql.example.com. If the MySQL server is on the same machine as
                            ForumRS, then just put localhost.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database port of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='mysqlPort' class='col-sm-2 col-form-label'>Database Port:</label>
                        <div class='col-sm-9'>
                            <input name='mysqlPort' id='mysqlPort' class='form-control' type='text'
                                value="3306" required />
                            <div class='invalid-feedback'>
                                You must enter a valid url for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Port Help' data-bs-content='This is the port that MySQL is running off of. 3306 is
                            the default port for MySQL.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database username of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='mysqlUsername' class='col-sm-3 col-form-label'>Database Username:</label>
                        <div class='col-sm-8'>
                            <input name='mysqlUsername' id='mysqlUsername' class='form-control' type='text'
                                value="" required />
                            <div class='invalid-feedback'>
                                You must enter a username for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Username Help' data-bs-content='This is the username for MySQL that you want
                            ForumRS to have access too. (While it is possible to use root, it is heavily discouraged).'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database password of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='mysqlPassword' class='col-sm-3 col-form-label'>Database Password:</label>
                        <div class='col-sm-8'>
                            <input name='mysqlPassword' id='mysqlPassword' class='form-control' type='password'
                                value="" required />
                            <div class='invalid-feedback'>
                                You must enter a password for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Password Help' data-bs-content='This is the password for the MySQL user above. While
                            it is possible to have no password in MySQL, ForumRS will force you to have one to enforce good security practice.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database name of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='mysqlDbName' class='col-sm-2 col-form-label'>Database Name:</label>
                        <div class='col-sm-9'>
                            <input name='mysqlDbName' id='mysqlDbName' class='form-control' type='text'
                                value="ForumRS" required />
                            <div class='invalid-feedback'>
                                You must enter a valid name for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Name Help' data-bs-content='This is the name of the database for MySQL. MySQL can have
                            different databases for different applications. This name can be anything, although it is best practice to have it the same name as
                            the application that is using it. ForumRS will create this database for you.'><i data-feather='info'></i></span>
                    </div>
                </div>
                <div id="postgre-config">
                    <h3>PostgreSQL Configuration</h3>
                    {{!-- The input for the database url of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='postURL' class='col-sm-2 col-form-label'>Database URL:</label>
                        <div class='col-sm-9'>
                            <input name='postURL' id='postURL' class='form-control' type='text'
                                value="localhost" required />
                            <div class='invalid-feedback'>
                                You must enter a valid url for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database URL Help' data-bs-content='This is the URL to the PostgreSQL database that you want to use. Only include ip or domain if
                            it is not on the same machine as ForumRS. Example: postgre.example.com. If the PostgreSQL server is on the same machine as
                            ForumRS, then just put localhost.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database port of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='postPort' class='col-sm-2 col-form-label'>Database Port:</label>
                        <div class='col-sm-9'>
                            <input name='postPort' id='postPort' class='form-control' type='text'
                                value="5432" required />
                            <div class='invalid-feedback'>
                                You must enter a valid url for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Port Help' data-bs-content='This is the port that PostgreSQL is running off of. 5432 is
                            the default port for PostgreSQL.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database username of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='postUsername' class='col-sm-3 col-form-label'>Database Username:</label>
                        <div class='col-sm-8'>
                            <input name='postUsername' id='postUsername' class='form-control' type='text'
                                value="" required />
                            <div class='invalid-feedback'>
                                You must enter a username for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Username Help' data-bs-content='This is the username for PostgreSQL that you want
                            ForumRS to have access too.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database password of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='postPassword' class='col-sm-3 col-form-label'>Database Password:</label>
                        <div class='col-sm-8'>
                            <input name='postPassword' id='postPassword' class='form-control' type='password'
                                value="" required />
                            <div class='invalid-feedback'>
                                You must enter a password for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Password Help' data-bs-content='This is the password for the PostgreSQL user above. While
                            it is possible to have no password in PostgreSQL, ForumRS will force you to have one to enforce good security practice.'><i data-feather='info'></i></span>
                    </div>
                    {{!-- The input for the database name of the website. --}}
                    <div class='mt-3 row mb-3'>
                        <label for='postDbName' class='col-sm-2 col-form-label'>Database Name:</label>
                        <div class='col-sm-9'>
                            <input name='postDbName' id='postDbName' class='form-control' type='text'
                                value="ForumRS" required />
                            <div class='invalid-feedback'>
                                You must enter a valid name for the database.
                            </div>
                        </div>
                        <span class='col-sm-1 info-nugget col-form-label' tabindex='0' data-bs-toggle='popover'
                            data-bs-trigger='hover focus' title='Database Name Help' data-bs-content='This is the name of the database for PostgreSQL. PostgreSQL can have
                            different databases for different applications. This name can be anything, although it is best practice to have it the same name as
                            the application that is using it. ForumRS will create this database for you.'><i data-feather='info'></i></span>
                    </div>
                </div>
                <p class='text-center mt-5'><button type='submit' class='btn btn-success'>Configure & Continue</button>
                </p>
            </form>
        </div>
    </main>

    <script src='public/js/setup/storage.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js'
        integrity='sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM'
        crossorigin='anonymous'></script>
    <script src='https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js'></script>
    <script>
        (function () {
            'use strict'; feather.replace({ width: '24', height: '24', 'stroke-width': '1' }); var forms =
                document.querySelectorAll('.needs-validation').forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if
                            (!form.checkValidity()) { event.preventDefault(); event.stopPropagation(); } form.classList.add('was-validated');
                    }, false)
                })
        })();
        for (nugget of document.querySelectorAll(".info-nugget")) { var popover = new bootstrap.Popover(nugget, { sanitize: false }); }
    </script>
</body>

</html>